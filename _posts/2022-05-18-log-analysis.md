---
title:  "Ubuntu 환경에서의 Log 분석"
excerpt: "로그 분석"

categories: forensic
tags:
  - [ubuntu, log, reglar expression]

toc: true
toc_sticky: true
 
date: 2022-5-18
last_modified_at: 2022-5-18
---

#### 로그 분석 기본
* * *
##### 리눅스 환경에서 로그 분석
- 많은 오픈 소스
- 로그분석에 필요한 CLI 환경
- 파이프라인을 통한 분석 툴의 유기적 조합 가능
- 쉘 스크립트를 통한 자동화된 분석 가능
- 대용량 로그 분석 가능
  - 윈도에서 10GB 로그 분석 불가능
  - 리눅스에서는 10G 로그 분석 가능
- 다수의 파일에 반복적 작업 가능

##### 정규표현식(PCRE : Peal compatible Regular Expression)
- 문자를 그대로 기술하지 않으면서 문자들의 순열이나 패턴을 기술
- 한 정규펴현식이 다른 스타일의 정규표현식에 다르게 동작 할 수 있음
- 파일 검색 시 사용되는 와일드 카드 문자와 정규표현식에서의 문자는 다른 의미

- **특수문자 읽는 법**
  - "^" : 캐럿 (carrot)
  - "-" : 틸드 (tilde)
  - "*" : 아스테리스크 (asterisk)
  - "[]" : 브라킷 (bracket)
  - "." : 닷(dot), 포인트(point)
  - "@" : 앳(at)

**메타문자**

![](../../assets/images/20220518-092908.png){: .center}

- [0-9]     : 0~9 사이
- {3}       : 3번 사용
- {1,3}     : 1번~3번 사용
- A{3}      : AAA
- [a-z]     : 소문자만
- [a-z]{3}  : aaa ~ zzz
- [a-z]{1,3}: a, b, ..., aa, ..., aaa ~ zzz
- [^a-z]    : 소문자가 아닌 것
- [^']      : ' 가 아닌 것
- i..o      : i와 o사이 아무 문자 가능
- 특수문자의 Escape(특수문자가 고유한 기능을 못하기 하는 것) 처리 : \ (역슬래시)
 
##### awk (문자열 다루는 툴)
- file로부터 레코드를 선택하고 선택된 레코드에 포함된 값을 조작하거나 데이터화 하는 것
- 문자열 데이터 편집과 정규표현식을 주로 사용하는 언어
- Sed 등과 결합하면 간결하면서도 강력한 스크립트 가능
- awk 명령의 입력으로 지정된 파일로부터 데이터를 분류한 다음, 분류된 텍스트 데이터를 바탕으로 **패턴 매칭 여부를 검사**하거나 **데이터 조작 및 연산** 등의 액션을 수행하고, 그 결과를 출력

![](../../assets/images/20220518-094735.png){: .center}
출처:https://recipes4dev.tistory.com/171